{"version":3,"sources":["../../../node_modules/fab.controller/src/FAB.controller.js","../../../assetsSource/js/controllers/CodeEditor.js","../../../assetsSource/js/controllers/FilterTable.js","../../../assetsSource/js/controllers/ScriptSets.js","../../../assetsSource/js/main.js","../../../node_modules/fab.grunt-build/src/js/fab.js","../../../node_modules/fab.assets/src/FAB.assets.js","../../../node_modules/fab.model/src/FAB.model.js","../../../assetsSource/js/components/sortable.js","../../../assetsSource/js/setup.js"],"names":["runFabController","F","undefined","window","jQuery","setTimeout","constructors","constructed","createConstructor","fn","obj","constructor","optObj","i","ControllerModel","thisObj","this","newObj","$","extend","hasOwnProperty","el","$el","get","HTMLElement","model","validateGuid","guid","make","init","Array","prototype","shift","apply","arguments","events","key","callback","on","split","controller","construct","name","constructedObj","Function","bind","push","runCodeEditor","W","fabDependenciesLoaded","self","CodeMirror","assets","load","root","js","css","success","runCodeMirror","fromTextArea","dragDrop","indentUnit","indentWithTabs","lineNumbers","lineWrapping","mode","tabSize","viewportMargin","Infinity","runFilterTable","filterRespondTimer","filterValue","change .js-filter-table__input","e","filterRespond","keyup .js-filter-table__input","currentTarget","value","toUpperCase","clearTimeout","runFilter","$rows","$parentHiders","show","each","$row","html","indexOf","hide","$thisParent","$thisRows","find","isVisible","is","runEditScriptSet","scriptsCollapsed","click .js-add-script","ajax","url","$html","append","click .js-remove-script","$script","closest","val","click .js-scripts-collapse-expand","set","Sortable","create","disableXAxis","draggable","handle","animation","onChange","collapseScripts","expandScripts","$scriptBodies","slideUp","text","slideDown","runMain","FAB","D","Load","options","head","getElementsByTagName","async","counter","error","check","failure","scriptTag","createElement","onload","onerror","src","appendChild","link","addEventListener","rel","href","document","guids","s4","Math","floor","random","toString","substring","createModelConstructor","attrs","initialValues","properties","propertyTypes","changeEvents","prop","parseInt","parseFloat","String","Object","args","changed","oldVal","forEach","noNameSpace","offChange","factory","define","amd","module","exports","Package","_extend","expando","defaults","group","sort","disabled","store","scroll","scrollSensitivity","scrollSpeed","test","nodeName","ghostClass","chosenClass","ignore","filter","setData","dataTransfer","dragEl","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","forceFallback","fallbackClass","fallbackOnBody","_prepareGroup","charAt","nativeDraggable","supportDraggable","_on","_onTapStart","touchDragOverListeners","_onDragOver","_cloneHide","state","cloneEl","_css","rootEl","insertBefore","_closest","selector","ctx","tag","re","RegExp","join","parentNode","length","className","match","_globalDragOver","evt","dropEffect","preventDefault","event","_off","removeEventListener","_toggleClass","classList","replace","RSPACE","style","defaultView","getComputedStyle","currentStyle","_find","tagName","iterator","list","n","_dispatchEvent","sortable","targetEl","fromEl","startIndex","newIndex","createEvent","onName","substr","initEvent","to","from","item","clone","oldIndex","dispatchEvent","call","_onMove","toEl","dragRect","targetRect","retVal","onMoveFn","onMove","dragged","draggedRect","related","relatedRect","getBoundingClientRect","_disableDraggable","_unsilent","_silent","_ghostIsLast","lastEl","lastElementChild","rect","clientY","top","height","clientX","right","width","_generateId","str","sum","charCodeAt","_index","index","previousElementSibling","_throttle","ms","_this","dst","parentEl","ghostEl","nextEl","scrollEl","scrollParentEl","lastCSS","lastParentCSS","activeGroup","tapEvt","touchEvt","moved","autoScroll","Date","getTime","win","supportCssPointerEvents","cssText","pointerEvents","abs","_autoScroll","vx","vy","sens","speed","x","y","winWidth","innerWidth","winHeight","innerHeight","offsetWidth","scrollWidth","offsetHeight","scrollHeight","left","bottom","clearInterval","pid","setInterval","scrollTo","pageXOffset","pageYOffset","scrollTop","scrollLeft","groups","put","type","touch","touches","target","originalTarget","button","some","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_disableDelayedDrag","_triggerDragStart","_onDrop","_dragStartTimer","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","active","_emulateDragOver","_lastX","_lastY","elementFromPoint","parent","groupName","_onTouchMove","_appendGhost","dx","dy","translate3d","ghostRect","cloneNode","marginTop","marginLeft","body","useFallback","_offUpEvents","pull","_loopId","effectAllowed","revert","groupPut","isOwner","canSort","stopPropagation","contains","children","animated","_animate","after","floating","cssFloat","display","isWide","isLong","halfway","nextElementSibling","moveVector","elTop","offsetTop","tgTop","prevRect","currentRect","removeChild","save","handleEvent","toArray","order","getAttribute","items","id","option","destroy","querySelectorAll","removeAttribute","splice","utils","off","throttle","toggleClass","version","doT"],"mappings":"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","file":"script.min.js","sourcesContent":["/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n// Set up fab controller\nfunction runFabController(F) {\n    'use strict';\n\n    if (window.jQuery === undefined) {\n        setTimeout(function() {\n            runFabController(F);\n        }, 10);\n        return;\n    }\n\n    var jQuery = window.jQuery;\n\n    // A place to store constructors\n    var constructors = {};\n\n    // A place to store constructed objects\n    var constructed = [];\n\n    /**\n     * Make a controller constructor\n     *\n     * @param {String|Object} fn - Name of constructor or options to return constructor only\n     * @param {Object} obj - Options\n     * @return {constructor}\n     */\n    var createConstructor = function(fn, obj) {\n        // Constructor variable\n        var constructor;\n\n        // Determine type of first argument\n        if (typeof fn === 'object') {\n            obj = fn;\n            fn = null;\n        } else if (typeof fn !== 'string') {\n            obj = {};\n            fn = null;\n        }\n\n        /**\n         * Create a constructor\n         *\n         * @param {Object|boolean|null} optObj\n         */\n        constructor = function(optObj) {\n            // Set a variable for this\n            var thisObj = this;\n\n            // Clone the object\n            var newObj = $.extend(true, {}, obj);\n\n            // Set iterator key\n            var i;\n\n            // Set model var\n            var ControllerModel;\n\n            // Loop through the options and set them\n            for (i in newObj) {\n                if (newObj.hasOwnProperty(i)) {\n                    thisObj[i] = newObj[i];\n                }\n            }\n\n            // Loop through incoming options and set them\n            if (typeof optObj === 'object') {\n                for (i in optObj) {\n                    if (optObj.hasOwnProperty(i)) {\n                        thisObj[i] = optObj[i];\n                    }\n                }\n            }\n\n            // Check if el or $el has been set\n            if (! thisObj.el) {\n                thisObj.$el = $('<div></div>');\n                thisObj.el = thisObj.$el.get(0);\n\n                // If the incoming el is a string, use as selector\n            } else if (typeof thisObj.el === 'string') {\n                thisObj.$el = $(thisObj.el);\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a jQuery object\n            } else if (thisObj.el instanceof jQuery) {\n                thisObj.$el = thisObj.el;\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a DOM object\n            } else if (thisObj.el instanceof HTMLElement) {\n                thisObj.$el = $(thisObj.el);\n            }\n\n            // Check if model is set\n            if (typeof thisObj.model === 'object' && typeof F.model !== 'undefined') {\n                if (! F.model.validateGuid(thisObj.model.guid)) {\n                    ControllerModel = F.model.make(thisObj.model);\n                    thisObj.model = new ControllerModel();\n                }\n            } else if (this.model !== undefined) {\n                thisObj.model = null;\n            }\n\n            // Check for init\n            if (typeof thisObj.init === 'function') {\n                // Remove the first argument from the arguments\n                Array.prototype.shift.apply(arguments);\n\n                // Run the init function\n                thisObj.init.apply(thisObj, arguments);\n            }\n\n            // Check if there are events\n            if (typeof thisObj.events === 'object') {\n                // Loop through the events\n                for (i in thisObj.events) {\n                    if (\n                        // Make sure the object has own property\n                    thisObj.events.hasOwnProperty(i) &&\n                    // Make sure the value is a callable function\n                    typeof thisObj.events[i] === 'function'\n                    ) {\n                        // Enclose in a function so we have immutable vars\n                        (function(key, callback) {\n                            if (key[1]) {\n                                thisObj.$el.on(key[0], key[1], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            } else {\n                                thisObj.$el.on(key[0], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            }\n                        })(i.split(' '), thisObj.events[i]);\n                    }\n                }\n            }\n        };\n\n        // If a name has been defined for this constructor, add it\n        if (fn) {\n            constructors[fn] = constructor;\n        }\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Controller API\n     */\n    F.controller = {\n        /**\n         * Make a controller constructor\n         * @return {constructor}\n         */\n        make: function() {\n            return createConstructor.apply(createConstructor, arguments);\n        },\n\n        /**\n         * Construct a new object from a constructor\n         *\n         * @param {String} name\n         */\n        construct: function(name) {\n            // Set a variable for the constructed object\n            var constructedObj;\n\n            // Make sure the constructor exists\n            if (typeof constructors[name] !== 'function') {\n                return null;\n            }\n\n            // Run the constructor\n            constructedObj = new (Function.prototype.bind.apply(\n                    constructors[name], arguments)\n            )();\n\n            // Push the constructor into the array of constructed objects\n            constructed.push(constructedObj);\n\n            // Return the constructed object\n            return constructedObj;\n        }\n    };\n}\n\n// Run fab controller set up\nrunFabController(window.FAB);\n","function runCodeEditor(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runCodeEditor(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('CodeEditor', {\n        init: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Load code mirror if needed\n            if (W.CodeMirror === undefined) {\n                F.assets.load({\n                    root: '/',\n                    js: [\n                        'codemirror/lib/codemirror.js',\n                        'codemirror/mode/shell/shell.js'\n                    ],\n                    css: [\n                        'codemirror/lib/codemirror.css'\n                    ],\n                    success: function() {\n                        self.runCodeMirror();\n                    }\n                });\n\n                return;\n            }\n\n            // If code mirror is already loaded, run it\n            self.runCodeMirror();\n        },\n\n        runCodeMirror: function() {\n            W.CodeMirror.fromTextArea(this.$el.get(0), {\n                dragDrop: false,\n                indentUnit: 4,\n                indentWithTabs: false,\n                lineNumbers: true,\n                lineWrapping: true,\n                mode: 'text/x-sh',\n                tabSize: 4,\n                viewportMargin: Infinity\n            });\n        }\n    });\n}\n\nrunCodeEditor(window.FAB, window);\n","function runFilterTable(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runFilterTable(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('FilterTable', {\n        filterRespondTimer: 0,\n        filterValue: '',\n\n        events: {\n            'change .js-filter-table__input': function(e) {\n                // Run filter respond method\n                this.filterRespond(e);\n            },\n\n            'keyup .js-filter-table__input': function(e) {\n                // Run filter respond method\n                this.filterRespond(e);\n            }\n        },\n\n        filterRespond: function(e) {\n            // Save a reference to the controller\n            var self = this;\n\n            // Set the filter value\n            self.filterValue = e.currentTarget.value.toUpperCase();\n\n            // Clear previous timer\n            clearTimeout(self.filterRespondTimer);\n\n            // Set new timer\n            self.filterRespondTimer = setTimeout(function() {\n                // Run the filter\n                self.runFilter();\n            }, 300);\n        },\n\n        runFilter: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get rows\n            var $rows = $('.js-filter-table__row');\n\n            // Get parent hiders\n            var $parentHiders = $('.js-filter-table__parent-hide-on-no-results');\n\n            // If there is no filter value, show all rows\n            if (! self.filterValue) {\n                $rows.show();\n                $parentHiders.show();\n                return;\n            }\n\n            // Iterate through rows\n            $rows.each(function() {\n                // Cast the row element\n                var $row = $(this);\n\n                // If we have an index of content, show the row, otherwise hide\n                if ($row.html().toUpperCase().indexOf(self.filterValue) > -1) {\n                    $row.show();\n                } else {\n                    $row.hide();\n                }\n            });\n\n            // Iterate through parent hide elements\n            $parentHiders.each(function() {\n                // Cast this parent\n                var $thisParent = $(this);\n\n                // Get the rows for this parent\n                var $thisRows = $thisParent.find('.js-filter-table__row');\n\n                // Set variable for is visible\n                var isVisible = false;\n\n                $thisRows.each(function() {\n                    if ($(this).is(':visible')) {\n                        isVisible = true;\n                    }\n                });\n\n                // If visible, show the parent, otherwise hide it\n                if (isVisible) {\n                    $thisParent.show();\n                } else {\n                    $thisParent.hide();\n                }\n            });\n        }\n    });\n}\n\nrunFilterTable(window.FAB, window);\n","function runEditScriptSet(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runEditScriptSet(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('EditScriptSet', {\n        model: {\n            scriptsCollapsed: 'bool'\n        },\n\n        events: {\n            'click .js-add-script': function() {\n                // Save a reference to the controller\n                var self = this;\n\n                $.ajax({\n                    url: '/servers/scripts/script-template',\n                    success: function(html) {\n                        var $html = $(html);\n                        self.$el.find('.js-scripts-container').append($html);\n                        F.controller.construct('CodeEditor', {\n                            el: $html.find('.js-code-editor').get(0)\n                        });\n                    }\n                });\n            },\n            'click .js-remove-script': function(e) {\n                var $el = $(e.currentTarget);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-delete').val('true');\n                $script.hide();\n            },\n            'click .js-scripts-collapse-expand': function() {\n                // Save a reference to the controller\n                var self = this;\n\n                // Set model\n                self.model.set(\n                    'scriptsCollapsed',\n                    ! self.model.get('scriptsCollapsed')\n                );\n            }\n        },\n\n        init: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the scripts container element\n            var el = self.$el.find('.js-scripts-container').get(0);\n\n            // Instantiate sorting\n            window.Sortable.create(el, {\n                disableXAxis: true,\n                draggable: '.js-script',\n                handle: '.js-script-sort-handle',\n                animation: 150\n            });\n\n            // Watch for scripts collapsed model changes\n            self.model.onChange('scriptsCollapsed', function(val) {\n                if (val) {\n                    self.collapseScripts();\n                    return;\n                }\n                self.expandScripts();\n            });\n        },\n\n        collapseScripts: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the script bodies\n            var $scriptBodies = self.$el.find('.js-script-body');\n\n            // Collapse scripts\n            $scriptBodies.slideUp(100);\n\n            // Iterate through script bodies and set title\n            $scriptBodies.each(function() {\n                var $el = $(this);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-name-holder').text(\n                    ': ' + $script.find('.js-script-name').val()\n                );\n            });\n\n            // Hide the collapse option\n            self.$el.find('.js-collapse-scripts').hide();\n\n            // Show the expand scripts option\n            self.$el.find('.js-expand-scripts').show();\n        },\n\n        expandScripts: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the script bodies\n            var $scriptBodies = self.$el.find('.js-script-body');\n\n            // Expand scripts\n            $scriptBodies.slideDown(100);\n\n            // Iterate through script bodies and unset title\n            $scriptBodies.each(function() {\n                var $el = $(this);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-name-holder').text('');\n            });\n\n            // Show the collapse option\n            self.$el.find('.js-collapse-scripts').show();\n\n            // Hide the expand scripts option\n            self.$el.find('.js-expand-scripts').hide();\n        }\n    });\n}\n\nrunEditScriptSet(window.FAB, window);\n","// This file is run after everything else\n\nfunction runMain(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runMain(F, W);\n        }, 10);\n        return;\n    }\n\n    // Run script sets on page\n    $('.js-edit-script-set').each(function() {\n        F.controller.construct('EditScriptSet', {\n            el: this\n        });\n    });\n\n    // Run edit areas on page\n    $('.js-code-editor').each(function() {\n        F.controller.construct('CodeEditor', {\n            el: this\n        });\n    });\n\n    // Run table filters\n    $('.js-filter-table').each(function() {\n        F.controller.construct('FilterTable', {\n            el: this\n        });\n    });\n}\n\nrunMain(window.FAB, window);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F, D) {\n    'use strict';\n\n    /**\n     * Load specified assets\n     *\n     * @param {Object} options\n     *     @param {String} [options.root]\n     *     @param {String|Array} [options.js]\n     *     @param {String|Array} [options.css]\n     *     @param {Boolean} [options.async]\n     *     @param {Function} [options.failure]\n     *     @param {Function} [options.success]\n     */\n    var Load = function(options) {\n        // Set variables\n        var head = D.getElementsByTagName('head')[0];\n        var root = options.root || '/';\n        var js = typeof options.js === 'string' ? [options.js] : options.js;\n        var css = typeof options.css === 'string' ? [options.css] : options.css;\n        var async = options.async === true;\n        var i;\n        var counter = 0;\n        var error = false;\n        var check = function() {\n            if (counter !== 0) {\n                return;\n            }\n\n            if (error && typeof options.failure === 'function') {\n                options.failure();\n            } else if (! error && typeof options.success === 'function') {\n                options.success();\n            }\n        };\n\n        // Add all JS items to the counter\n        for (i in js) {\n            if (js.hasOwnProperty(i)) {\n                counter++;\n            }\n        }\n\n        // Add all CSS items to the counter\n        for (i in css) {\n            if (css.hasOwnProperty(i)) {\n                counter++;\n            }\n        }\n\n        // Load JS scripts\n        for (i in js) {\n            if (js.hasOwnProperty(i)) {\n                var scriptTag = D.createElement('script');\n\n                scriptTag.async = async === true;\n\n                scriptTag.onload = function() {\n                    counter--;\n                    check();\n                };\n\n                scriptTag.onerror = function() {\n                    counter--;\n                    error = true;\n                    check();\n                };\n\n                scriptTag.src = root + js[i];\n\n                head.appendChild(scriptTag);\n            }\n        }\n\n        // Load CSS links\n        for (i in css) {\n            if (css.hasOwnProperty(i)) {\n                var link = D.createElement('link');\n\n                link.addEventListener('load', function() {\n                    counter--;\n                    check();\n                }, false);\n\n                link.addEventListener('error', function() {\n                    counter--;\n                    error = true;\n                    check();\n                }, false);\n\n                link.rel = 'stylesheet';\n                link.href = root + css[i];\n\n                head.appendChild(link);\n            }\n        }\n    };\n\n    F.assets = {\n        /**\n         * Load specified assets\n         *\n         * @param {Object} options\n         *     @param {String} [options.root]\n         *     @param {String|Array} [options.js]\n         *     @param {String|Array} [options.css]\n         *     @param {Boolean} [options.async]\n         *     @param {Function} [options.failure]\n         *     @param {Function} [options.success]\n         */\n        load: function(options) {\n            new Load(options); // jshint ignore: line\n        }\n    };\n})(window.FAB, document);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F) {\n    'use strict';\n\n    // A place to store GUIDs\n    var guids = [];\n\n    // Create GUID\n    var guid = function() {\n        var s4 = function() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    };\n\n    /**\n     * Make a model constructor\n     *\n     * @param {Object} attrs\n     */\n    var createModelConstructor = function(attrs) {\n        // Set a variable for the constructor\n        var constructor;\n\n        // Make sure attrs is an object\n        if (typeof attrs !== 'object') {\n            attrs = {};\n        }\n\n        // Define the constructor\n        constructor = function(initialValues) {\n            // Set a local variable for this\n            var thisObj = this;\n\n            // Set GUID\n            thisObj.guid = guid();\n\n            // Push the GUID\n            guids.push(thisObj.guid);\n\n            // Set up properties\n            thisObj.properties = {};\n\n            // Set up property types\n            thisObj.propertyTypes = attrs;\n\n            // Set up change events\n            thisObj.changeEvents = {};\n\n            // Loop through property types and set change events objects\n            for (var prop in thisObj.propertyTypes) {\n                if (thisObj.propertyTypes.hasOwnProperty(prop)) {\n                    thisObj.changeEvents[prop] = {};\n                }\n            }\n\n            // Set any initial values\n            for (var i in initialValues) {\n                if (initialValues.hasOwnProperty(i)) {\n                    if (thisObj.propertyTypes[i] !== undefined) {\n                        thisObj.properties[i] = initialValues[i];\n                    }\n                }\n            }\n        };\n\n        // Set prototype methods\n        constructor.prototype = {\n            get: function(name) {\n                var model = this;\n\n                if (model.properties[name]) {\n                    if (model.propertyTypes[name] === 'int') {\n                        return parseInt(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'float') {\n                        return parseFloat(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return String(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return model.properties[name] === true;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        if (model.properties[name].constructor === Array) {\n                            return model.properties[name];\n                        } else {\n                            return [];\n                        }\n                    } else if (model.propertyTypes[name] === 'object') {\n                        if (model.properties[name].constructor === Object) {\n                            return model.properties[name];\n                        } else {\n                            return {};\n                        }\n                    } else {\n                        return null;\n                    }\n                } else {\n                    if (\n                        model.propertyTypes[name] === 'int' ||\n                        model.propertyTypes[name] === 'float'\n                    ) {\n                        return 0;\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return '';\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return false;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        return [];\n                    } else if (model.propertyTypes[name] === 'object') {\n                        return {};\n                    } else {\n                        return null;\n                    }\n                }\n            },\n            set: function(name, val) {\n                var model = this;\n                var changed = false;\n                var oldVal = model.properties[name];\n                var args;\n\n                if (model.propertyTypes[name] === 'int') {\n                    model.properties[name] = parseInt(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'float') {\n                    model.properties[name] = parseFloat(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'string') {\n                    model.properties[name] = String(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'bool') {\n                    model.properties[name] = val === true || val === 'true' || val === 'yes' || val === 'y';\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'array') {\n                    if (val.constructor === Array) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                } else if (model.propertyTypes[name] === 'object') {\n                    if (val.constructor === Object) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                }\n\n                if (! changed || oldVal === model.properties[name] || model.changeEvents[name] === undefined) {\n                    return;\n                }\n\n                args = [\n                    model.properties[name],\n                    oldVal\n                ];\n\n                for (var i in model.changeEvents[name]) {\n                    model.changeEvents[name][i].forEach(function(callback) {\n                        callback.apply(callback, args);\n                    });\n                }\n            },\n            onChange: function(name, callback) {\n                var model = this;\n                var key = name.split('.');\n\n                if (model.propertyTypes[key[0]] !== undefined) {\n                    if (key[1] === undefined) {\n                        if (model.changeEvents[key[0]].noNameSpace === undefined) {\n                            model.changeEvents[key[0]].noNameSpace = [];\n                        }\n\n                        model.changeEvents[key[0]].noNameSpace.push(callback);\n                    } else {\n                        if (model.changeEvents[key[0]][key[1]] === undefined) {\n                            model.changeEvents[key[0]][key[1]] = [];\n                        }\n\n                        model.changeEvents[key[0]][key[1]].push(callback);\n                    }\n                }\n            },\n            offChange: function(name) {\n                var model = this;\n                var key = name.split('.');\n\n                if (key[1] === undefined) {\n                    model.changeEvents[key[0]] = {};\n                } else {\n                    delete model.changeEvents[key[0]][key[1]];\n                }\n            }\n        };\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Model API\n     */\n    F.model = {\n        /**\n         * Make a model constructor\n         */\n        make: function() {\n            return createModelConstructor.apply(\n                createModelConstructor,\n                arguments\n            );\n        },\n\n        /**\n         * Validate GUID\n         *\n         * @param {String} guid\n         */\n        validateGuid: function(guid) {\n            return guids.indexOf(guid) > -1;\n        }\n    };\n})(window.FAB);\n","/* jshint ignore:start */\n// jscs:disable\n\n/**!\n * Sortable https://github.com/RubaXa/Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== \"undefined\") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function () {\n\t\"use strict\";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != 'object') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t['pull', 'put'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';\n\t\t}\n\t\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\n\t\t\t// Custom addition by TJ\n\t\t\tdisableXAxis: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === 'mousedown' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = ' ' + this.options.group.name + '',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = this.options.disableXAxis ? 0 : touch.clientX - tapEvt.clientX, // Ternary custom addition by TJ\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, this.options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, this.options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tthis.options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == 'clone') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\t\tdragEl =\n\t\t\t\t\t\tparentEl =\n\t\t\t\t\t\t\tghostEl =\n\t\t\t\t\t\t\t\tnextEl =\n\t\t\t\t\t\t\t\t\tcloneEl =\n\n\t\t\t\t\t\t\t\t\t\tscrollEl =\n\t\t\t\t\t\t\t\t\t\t\tscrollParentEl =\n\n\t\t\t\t\t\t\t\t\t\t\t\ttapEvt =\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouchEvt =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoved =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewIndex =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastEl =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastCSS =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveGroup =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === 'dragover' || type === 'dragenter') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === 'drop' || type === 'dragend') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === '>*' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== 'TEMPLATE') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.3.0-rc2';\n\treturn Sortable;\n});\n/* jshint ignore:end */\n","// Anything in this file will be run before the rest of your custom files\n\nwindow.fabDependenciesLoaded = function() {\n    'use strict';\n\n    return window.FAB.controller !== undefined &&\n        window.$ !== undefined &&\n        window.doT !== undefined &&\n        window.Sortable !== undefined;\n};\n"]}