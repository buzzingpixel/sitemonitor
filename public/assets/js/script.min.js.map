{"version":3,"sources":["../../../node_modules/fab.controller/src/FAB.controller.js","../../../node_modules/fab.grunt-build/src/js/fab.js","../../../node_modules/fab.model/src/FAB.model.js"],"names":["runFabController","F","undefined","window","jQuery","setTimeout","constructors","constructed","createConstructor","fn","obj","constructor","optObj","i","ControllerModel","thisObj","this","newObj","$","extend","hasOwnProperty","el","$el","get","HTMLElement","model","validateGuid","guid","make","init","Array","prototype","shift","apply","arguments","events","key","callback","on","split","controller","construct","name","constructedObj","Function","bind","push","FAB","guids","s4","Math","floor","random","toString","substring","createModelConstructor","attrs","initialValues","properties","propertyTypes","changeEvents","prop","parseInt","parseFloat","String","Object","set","val","args","changed","oldVal","forEach","onChange","noNameSpace","offChange","indexOf"],"mappings":"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","file":"script.min.js","sourcesContent":["/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n// Set up fab controller\nfunction runFabController(F) {\n    'use strict';\n\n    if (window.jQuery === undefined) {\n        setTimeout(function() {\n            runFabController(F);\n        }, 10);\n        return;\n    }\n\n    var jQuery = window.jQuery;\n\n    // A place to store constructors\n    var constructors = {};\n\n    // A place to store constructed objects\n    var constructed = [];\n\n    /**\n     * Make a controller constructor\n     *\n     * @param {String|Object} fn - Name of constructor or options to return constructor only\n     * @param {Object} obj - Options\n     * @return {constructor}\n     */\n    var createConstructor = function(fn, obj) {\n        // Constructor variable\n        var constructor;\n\n        // Determine type of first argument\n        if (typeof fn === 'object') {\n            obj = fn;\n            fn = null;\n        } else if (typeof fn !== 'string') {\n            obj = {};\n            fn = null;\n        }\n\n        /**\n         * Create a constructor\n         *\n         * @param {Object|boolean|null} optObj\n         */\n        constructor = function(optObj) {\n            // Set a variable for this\n            var thisObj = this;\n\n            // Clone the object\n            var newObj = $.extend(true, {}, obj);\n\n            // Set iterator key\n            var i;\n\n            // Set model var\n            var ControllerModel;\n\n            // Loop through the options and set them\n            for (i in newObj) {\n                if (newObj.hasOwnProperty(i)) {\n                    thisObj[i] = newObj[i];\n                }\n            }\n\n            // Loop through incoming options and set them\n            if (typeof optObj === 'object') {\n                for (i in optObj) {\n                    if (optObj.hasOwnProperty(i)) {\n                        thisObj[i] = optObj[i];\n                    }\n                }\n            }\n\n            // Check if el or $el has been set\n            if (! thisObj.el) {\n                thisObj.$el = $('<div></div>');\n                thisObj.el = thisObj.$el.get(0);\n\n                // If the incoming el is a string, use as selector\n            } else if (typeof thisObj.el === 'string') {\n                thisObj.$el = $(thisObj.el);\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a jQuery object\n            } else if (thisObj.el instanceof jQuery) {\n                thisObj.$el = thisObj.el;\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a DOM object\n            } else if (thisObj.el instanceof HTMLElement) {\n                thisObj.$el = $(thisObj.el);\n            }\n\n            // Check if model is set\n            if (typeof thisObj.model === 'object' && typeof F.model !== 'undefined') {\n                if (! F.model.validateGuid(thisObj.model.guid)) {\n                    ControllerModel = F.model.make(thisObj.model);\n                    thisObj.model = new ControllerModel();\n                }\n            } else if (this.model !== undefined) {\n                thisObj.model = null;\n            }\n\n            // Check for init\n            if (typeof thisObj.init === 'function') {\n                // Remove the first argument from the arguments\n                Array.prototype.shift.apply(arguments);\n\n                // Run the init function\n                thisObj.init.apply(thisObj, arguments);\n            }\n\n            // Check if there are events\n            if (typeof thisObj.events === 'object') {\n                // Loop through the events\n                for (i in thisObj.events) {\n                    if (\n                        // Make sure the object has own property\n                    thisObj.events.hasOwnProperty(i) &&\n                    // Make sure the value is a callable function\n                    typeof thisObj.events[i] === 'function'\n                    ) {\n                        // Enclose in a function so we have immutable vars\n                        (function(key, callback) {\n                            if (key[1]) {\n                                thisObj.$el.on(key[0], key[1], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            } else {\n                                thisObj.$el.on(key[0], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            }\n                        })(i.split(' '), thisObj.events[i]);\n                    }\n                }\n            }\n        };\n\n        // If a name has been defined for this constructor, add it\n        if (fn) {\n            constructors[fn] = constructor;\n        }\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Controller API\n     */\n    F.controller = {\n        /**\n         * Make a controller constructor\n         * @return {constructor}\n         */\n        make: function() {\n            return createConstructor.apply(createConstructor, arguments);\n        },\n\n        /**\n         * Construct a new object from a constructor\n         *\n         * @param {String} name\n         */\n        construct: function(name) {\n            // Set a variable for the constructed object\n            var constructedObj;\n\n            // Make sure the constructor exists\n            if (typeof constructors[name] !== 'function') {\n                return null;\n            }\n\n            // Run the constructor\n            constructedObj = new (Function.prototype.bind.apply(\n                    constructors[name], arguments)\n            )();\n\n            // Push the constructor into the array of constructed objects\n            constructed.push(constructedObj);\n\n            // Return the constructed object\n            return constructedObj;\n        }\n    };\n}\n\n// Run fab controller set up\nrunFabController(window.FAB);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F) {\n    'use strict';\n\n    // A place to store GUIDs\n    var guids = [];\n\n    // Create GUID\n    var guid = function() {\n        var s4 = function() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    };\n\n    /**\n     * Make a model constructor\n     *\n     * @param {Object} attrs\n     */\n    var createModelConstructor = function(attrs) {\n        // Set a variable for the constructor\n        var constructor;\n\n        // Make sure attrs is an object\n        if (typeof attrs !== 'object') {\n            attrs = {};\n        }\n\n        // Define the constructor\n        constructor = function(initialValues) {\n            // Set a local variable for this\n            var thisObj = this;\n\n            // Set GUID\n            thisObj.guid = guid();\n\n            // Push the GUID\n            guids.push(thisObj.guid);\n\n            // Set up properties\n            thisObj.properties = {};\n\n            // Set up property types\n            thisObj.propertyTypes = attrs;\n\n            // Set up change events\n            thisObj.changeEvents = {};\n\n            // Loop through property types and set change events objects\n            for (var prop in thisObj.propertyTypes) {\n                if (thisObj.propertyTypes.hasOwnProperty(prop)) {\n                    thisObj.changeEvents[prop] = {};\n                }\n            }\n\n            // Set any initial values\n            for (var i in initialValues) {\n                if (initialValues.hasOwnProperty(i)) {\n                    if (thisObj.propertyTypes[i] !== undefined) {\n                        thisObj.properties[i] = initialValues[i];\n                    }\n                }\n            }\n        };\n\n        // Set prototype methods\n        constructor.prototype = {\n            get: function(name) {\n                var model = this;\n\n                if (model.properties[name]) {\n                    if (model.propertyTypes[name] === 'int') {\n                        return parseInt(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'float') {\n                        return parseFloat(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return String(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return model.properties[name] === true;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        if (model.properties[name].constructor === Array) {\n                            return model.properties[name];\n                        } else {\n                            return [];\n                        }\n                    } else if (model.propertyTypes[name] === 'object') {\n                        if (model.properties[name].constructor === Object) {\n                            return model.properties[name];\n                        } else {\n                            return {};\n                        }\n                    } else {\n                        return null;\n                    }\n                } else {\n                    if (\n                        model.propertyTypes[name] === 'int' ||\n                        model.propertyTypes[name] === 'float'\n                    ) {\n                        return 0;\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return '';\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return false;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        return [];\n                    } else if (model.propertyTypes[name] === 'object') {\n                        return {};\n                    } else {\n                        return null;\n                    }\n                }\n            },\n            set: function(name, val) {\n                var model = this;\n                var changed = false;\n                var oldVal = model.properties[name];\n                var args;\n\n                if (model.propertyTypes[name] === 'int') {\n                    model.properties[name] = parseInt(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'float') {\n                    model.properties[name] = parseFloat(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'string') {\n                    model.properties[name] = String(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'bool') {\n                    model.properties[name] = val === true || val === 'true' || val === 'yes' || val === 'y';\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'array') {\n                    if (val.constructor === Array) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                } else if (model.propertyTypes[name] === 'object') {\n                    if (val.constructor === Object) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                }\n\n                if (! changed || oldVal === model.properties[name] || model.changeEvents[name] === undefined) {\n                    return;\n                }\n\n                args = [\n                    model.properties[name],\n                    oldVal\n                ];\n\n                for (var i in model.changeEvents[name]) {\n                    model.changeEvents[name][i].forEach(function(callback) {\n                        callback.apply(callback, args);\n                    });\n                }\n            },\n            onChange: function(name, callback) {\n                var model = this;\n                var key = name.split('.');\n\n                if (model.propertyTypes[key[0]] !== undefined) {\n                    if (key[1] === undefined) {\n                        if (model.changeEvents[key[0]].noNameSpace === undefined) {\n                            model.changeEvents[key[0]].noNameSpace = [];\n                        }\n\n                        model.changeEvents[key[0]].noNameSpace.push(callback);\n                    } else {\n                        if (model.changeEvents[key[0]][key[1]] === undefined) {\n                            model.changeEvents[key[0]][key[1]] = [];\n                        }\n\n                        model.changeEvents[key[0]][key[1]].push(callback);\n                    }\n                }\n            },\n            offChange: function(name) {\n                var model = this;\n                var key = name.split('.');\n\n                if (key[1] === undefined) {\n                    model.changeEvents[key[0]] = {};\n                } else {\n                    delete model.changeEvents[key[0]][key[1]];\n                }\n            }\n        };\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Model API\n     */\n    F.model = {\n        /**\n         * Make a model constructor\n         */\n        make: function() {\n            return createModelConstructor.apply(\n                createModelConstructor,\n                arguments\n            );\n        },\n\n        /**\n         * Validate GUID\n         *\n         * @param {String} guid\n         */\n        validateGuid: function(guid) {\n            return guids.indexOf(guid) > -1;\n        }\n    };\n})(window.FAB);\n"]}