{"version":3,"sources":["../../../node_modules/fab.controller/src/FAB.controller.js","../../../assetsSource/js/controllers/ScriptSets.js","../../../assetsSource/js/main.js","../../../node_modules/fab.grunt-build/src/js/fab.js","../../../node_modules/fab.model/src/FAB.model.js","../../../assetsSource/js/components/sortable.js","../../../assetsSource/js/setup.js"],"names":["runFabController","F","undefined","window","jQuery","setTimeout","constructors","constructed","createConstructor","fn","obj","constructor","optObj","i","ControllerModel","thisObj","this","newObj","$","extend","hasOwnProperty","el","$el","get","HTMLElement","model","validateGuid","guid","make","init","Array","prototype","shift","apply","arguments","events","key","callback","on","split","controller","construct","name","constructedObj","Function","bind","push","runEditScriptSet","W","fabDependenciesLoaded","click .js-add-script","self","ajax","url","success","html","find","append","click .js-remove-script","e","currentTarget","$script","closest","val","hide","Sortable","create","disableXAxis","draggable","handle","animation","runMain","each","FAB","guids","s4","Math","floor","random","toString","substring","createModelConstructor","attrs","initialValues","properties","propertyTypes","changeEvents","prop","parseInt","parseFloat","String","Object","set","args","changed","oldVal","forEach","onChange","noNameSpace","offChange","indexOf","factory","define","amd","module","exports","Package","options","_extend","expando","defaults","group","sort","disabled","store","scroll","scrollSensitivity","scrollSpeed","test","nodeName","ghostClass","chosenClass","ignore","filter","setData","dataTransfer","dragEl","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","forceFallback","fallbackClass","fallbackOnBody","_prepareGroup","charAt","nativeDraggable","supportDraggable","_on","_onTapStart","touchDragOverListeners","_onDragOver","_cloneHide","state","cloneEl","_css","rootEl","insertBefore","_closest","selector","ctx","document","tag","toUpperCase","re","RegExp","join","parentNode","length","className","match","_globalDragOver","evt","dropEffect","preventDefault","event","addEventListener","_off","removeEventListener","_toggleClass","classList","replace","RSPACE","style","defaultView","getComputedStyle","currentStyle","_find","tagName","iterator","list","getElementsByTagName","n","_dispatchEvent","sortable","targetEl","fromEl","startIndex","newIndex","createEvent","onName","substr","initEvent","to","from","item","clone","oldIndex","dispatchEvent","call","_onMove","toEl","dragRect","targetRect","retVal","onMoveFn","onMove","dragged","draggedRect","related","relatedRect","getBoundingClientRect","_disableDraggable","_unsilent","_silent","_ghostIsLast","lastEl","lastElementChild","rect","clientY","top","height","clientX","right","width","_generateId","str","src","href","sum","charCodeAt","_index","index","previousElementSibling","_throttle","ms","_this","dst","parentEl","ghostEl","nextEl","scrollEl","scrollParentEl","lastCSS","lastParentCSS","activeGroup","tapEvt","touchEvt","moved","autoScroll","Date","getTime","win","createElement","supportCssPointerEvents","cssText","pointerEvents","abs","_autoScroll","vx","vy","sens","speed","x","y","winWidth","innerWidth","winHeight","innerHeight","offsetWidth","scrollWidth","offsetHeight","scrollHeight","left","bottom","clearInterval","pid","setInterval","scrollTo","pageXOffset","pageYOffset","scrollTop","scrollLeft","groups","put","type","touch","touches","target","originalTarget","button","some","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_disableDelayedDrag","_triggerDragStart","_onDrop","_dragStartTimer","clearTimeout","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","active","_emulateDragOver","_lastX","_lastY","elementFromPoint","parent","groupName","_onTouchMove","_appendGhost","dx","dy","translate3d","ghostRect","css","cloneNode","marginTop","marginLeft","body","appendChild","useFallback","_offUpEvents","pull","_loopId","effectAllowed","revert","groupPut","isOwner","canSort","stopPropagation","contains","children","animated","_animate","after","floating","cssFloat","display","isWide","isLong","halfway","nextElementSibling","moveVector","elTop","offsetTop","tgTop","prevRect","currentRect","removeChild","save","handleEvent","toArray","order","getAttribute","items","id","option","value","destroy","querySelectorAll","removeAttribute","splice","utils","off","is","throttle","toggleClass","version","doT"],"mappings":"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","file":"script.min.js","sourcesContent":["/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n// Set up fab controller\nfunction runFabController(F) {\n    'use strict';\n\n    if (window.jQuery === undefined) {\n        setTimeout(function() {\n            runFabController(F);\n        }, 10);\n        return;\n    }\n\n    var jQuery = window.jQuery;\n\n    // A place to store constructors\n    var constructors = {};\n\n    // A place to store constructed objects\n    var constructed = [];\n\n    /**\n     * Make a controller constructor\n     *\n     * @param {String|Object} fn - Name of constructor or options to return constructor only\n     * @param {Object} obj - Options\n     * @return {constructor}\n     */\n    var createConstructor = function(fn, obj) {\n        // Constructor variable\n        var constructor;\n\n        // Determine type of first argument\n        if (typeof fn === 'object') {\n            obj = fn;\n            fn = null;\n        } else if (typeof fn !== 'string') {\n            obj = {};\n            fn = null;\n        }\n\n        /**\n         * Create a constructor\n         *\n         * @param {Object|boolean|null} optObj\n         */\n        constructor = function(optObj) {\n            // Set a variable for this\n            var thisObj = this;\n\n            // Clone the object\n            var newObj = $.extend(true, {}, obj);\n\n            // Set iterator key\n            var i;\n\n            // Set model var\n            var ControllerModel;\n\n            // Loop through the options and set them\n            for (i in newObj) {\n                if (newObj.hasOwnProperty(i)) {\n                    thisObj[i] = newObj[i];\n                }\n            }\n\n            // Loop through incoming options and set them\n            if (typeof optObj === 'object') {\n                for (i in optObj) {\n                    if (optObj.hasOwnProperty(i)) {\n                        thisObj[i] = optObj[i];\n                    }\n                }\n            }\n\n            // Check if el or $el has been set\n            if (! thisObj.el) {\n                thisObj.$el = $('<div></div>');\n                thisObj.el = thisObj.$el.get(0);\n\n                // If the incoming el is a string, use as selector\n            } else if (typeof thisObj.el === 'string') {\n                thisObj.$el = $(thisObj.el);\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a jQuery object\n            } else if (thisObj.el instanceof jQuery) {\n                thisObj.$el = thisObj.el;\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a DOM object\n            } else if (thisObj.el instanceof HTMLElement) {\n                thisObj.$el = $(thisObj.el);\n            }\n\n            // Check if model is set\n            if (typeof thisObj.model === 'object' && typeof F.model !== 'undefined') {\n                if (! F.model.validateGuid(thisObj.model.guid)) {\n                    ControllerModel = F.model.make(thisObj.model);\n                    thisObj.model = new ControllerModel();\n                }\n            } else if (this.model !== undefined) {\n                thisObj.model = null;\n            }\n\n            // Check for init\n            if (typeof thisObj.init === 'function') {\n                // Remove the first argument from the arguments\n                Array.prototype.shift.apply(arguments);\n\n                // Run the init function\n                thisObj.init.apply(thisObj, arguments);\n            }\n\n            // Check if there are events\n            if (typeof thisObj.events === 'object') {\n                // Loop through the events\n                for (i in thisObj.events) {\n                    if (\n                        // Make sure the object has own property\n                    thisObj.events.hasOwnProperty(i) &&\n                    // Make sure the value is a callable function\n                    typeof thisObj.events[i] === 'function'\n                    ) {\n                        // Enclose in a function so we have immutable vars\n                        (function(key, callback) {\n                            if (key[1]) {\n                                thisObj.$el.on(key[0], key[1], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            } else {\n                                thisObj.$el.on(key[0], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            }\n                        })(i.split(' '), thisObj.events[i]);\n                    }\n                }\n            }\n        };\n\n        // If a name has been defined for this constructor, add it\n        if (fn) {\n            constructors[fn] = constructor;\n        }\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Controller API\n     */\n    F.controller = {\n        /**\n         * Make a controller constructor\n         * @return {constructor}\n         */\n        make: function() {\n            return createConstructor.apply(createConstructor, arguments);\n        },\n\n        /**\n         * Construct a new object from a constructor\n         *\n         * @param {String} name\n         */\n        construct: function(name) {\n            // Set a variable for the constructed object\n            var constructedObj;\n\n            // Make sure the constructor exists\n            if (typeof constructors[name] !== 'function') {\n                return null;\n            }\n\n            // Run the constructor\n            constructedObj = new (Function.prototype.bind.apply(\n                    constructors[name], arguments)\n            )();\n\n            // Push the constructor into the array of constructed objects\n            constructed.push(constructedObj);\n\n            // Return the constructed object\n            return constructedObj;\n        }\n    };\n}\n\n// Run fab controller set up\nrunFabController(window.FAB);\n","function runEditScriptSet(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runEditScriptSet(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('EditScriptSet', {\n        events: {\n            'click .js-add-script': function() {\n                // Save a reference to the controller\n                var self = this;\n\n                $.ajax({\n                    url: '/servers/scripts/script-template',\n                    success: function(html) {\n                        self.$el.find('.js-scripts-container').append(html);\n                    }\n                });\n            },\n            'click .js-remove-script': function(e) {\n                var $el = $(e.currentTarget);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-delete').val('true');\n                $script.hide();\n            }\n        },\n\n        init: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the scripts container element\n            var el = self.$el.find('.js-scripts-container').get(0);\n\n            // Instantiate sorting\n            window.Sortable.create(el, {\n                disableXAxis: true,\n                draggable: '.js-script',\n                handle: '.js-script-sort-handle',\n                animation: 150\n            });\n        }\n    });\n}\n\nrunEditScriptSet(window.FAB, window);\n","// This file is run after everything else\n\nfunction runMain(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runMain(F, W);\n        }, 10);\n        return;\n    }\n\n    // Run script sets on page\n    $('.js-edit-script-set').each(function() {\n        F.controller.construct('EditScriptSet', {\n            el: this\n        });\n    });\n}\n\nrunMain(window.FAB, window);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F) {\n    'use strict';\n\n    // A place to store GUIDs\n    var guids = [];\n\n    // Create GUID\n    var guid = function() {\n        var s4 = function() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    };\n\n    /**\n     * Make a model constructor\n     *\n     * @param {Object} attrs\n     */\n    var createModelConstructor = function(attrs) {\n        // Set a variable for the constructor\n        var constructor;\n\n        // Make sure attrs is an object\n        if (typeof attrs !== 'object') {\n            attrs = {};\n        }\n\n        // Define the constructor\n        constructor = function(initialValues) {\n            // Set a local variable for this\n            var thisObj = this;\n\n            // Set GUID\n            thisObj.guid = guid();\n\n            // Push the GUID\n            guids.push(thisObj.guid);\n\n            // Set up properties\n            thisObj.properties = {};\n\n            // Set up property types\n            thisObj.propertyTypes = attrs;\n\n            // Set up change events\n            thisObj.changeEvents = {};\n\n            // Loop through property types and set change events objects\n            for (var prop in thisObj.propertyTypes) {\n                if (thisObj.propertyTypes.hasOwnProperty(prop)) {\n                    thisObj.changeEvents[prop] = {};\n                }\n            }\n\n            // Set any initial values\n            for (var i in initialValues) {\n                if (initialValues.hasOwnProperty(i)) {\n                    if (thisObj.propertyTypes[i] !== undefined) {\n                        thisObj.properties[i] = initialValues[i];\n                    }\n                }\n            }\n        };\n\n        // Set prototype methods\n        constructor.prototype = {\n            get: function(name) {\n                var model = this;\n\n                if (model.properties[name]) {\n                    if (model.propertyTypes[name] === 'int') {\n                        return parseInt(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'float') {\n                        return parseFloat(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return String(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return model.properties[name] === true;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        if (model.properties[name].constructor === Array) {\n                            return model.properties[name];\n                        } else {\n                            return [];\n                        }\n                    } else if (model.propertyTypes[name] === 'object') {\n                        if (model.properties[name].constructor === Object) {\n                            return model.properties[name];\n                        } else {\n                            return {};\n                        }\n                    } else {\n                        return null;\n                    }\n                } else {\n                    if (\n                        model.propertyTypes[name] === 'int' ||\n                        model.propertyTypes[name] === 'float'\n                    ) {\n                        return 0;\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return '';\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return false;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        return [];\n                    } else if (model.propertyTypes[name] === 'object') {\n                        return {};\n                    } else {\n                        return null;\n                    }\n                }\n            },\n            set: function(name, val) {\n                var model = this;\n                var changed = false;\n                var oldVal = model.properties[name];\n                var args;\n\n                if (model.propertyTypes[name] === 'int') {\n                    model.properties[name] = parseInt(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'float') {\n                    model.properties[name] = parseFloat(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'string') {\n                    model.properties[name] = String(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'bool') {\n                    model.properties[name] = val === true || val === 'true' || val === 'yes' || val === 'y';\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'array') {\n                    if (val.constructor === Array) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                } else if (model.propertyTypes[name] === 'object') {\n                    if (val.constructor === Object) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                }\n\n                if (! changed || oldVal === model.properties[name] || model.changeEvents[name] === undefined) {\n                    return;\n                }\n\n                args = [\n                    model.properties[name],\n                    oldVal\n                ];\n\n                for (var i in model.changeEvents[name]) {\n                    model.changeEvents[name][i].forEach(function(callback) {\n                        callback.apply(callback, args);\n                    });\n                }\n            },\n            onChange: function(name, callback) {\n                var model = this;\n                var key = name.split('.');\n\n                if (model.propertyTypes[key[0]] !== undefined) {\n                    if (key[1] === undefined) {\n                        if (model.changeEvents[key[0]].noNameSpace === undefined) {\n                            model.changeEvents[key[0]].noNameSpace = [];\n                        }\n\n                        model.changeEvents[key[0]].noNameSpace.push(callback);\n                    } else {\n                        if (model.changeEvents[key[0]][key[1]] === undefined) {\n                            model.changeEvents[key[0]][key[1]] = [];\n                        }\n\n                        model.changeEvents[key[0]][key[1]].push(callback);\n                    }\n                }\n            },\n            offChange: function(name) {\n                var model = this;\n                var key = name.split('.');\n\n                if (key[1] === undefined) {\n                    model.changeEvents[key[0]] = {};\n                } else {\n                    delete model.changeEvents[key[0]][key[1]];\n                }\n            }\n        };\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Model API\n     */\n    F.model = {\n        /**\n         * Make a model constructor\n         */\n        make: function() {\n            return createModelConstructor.apply(\n                createModelConstructor,\n                arguments\n            );\n        },\n\n        /**\n         * Validate GUID\n         *\n         * @param {String} guid\n         */\n        validateGuid: function(guid) {\n            return guids.indexOf(guid) > -1;\n        }\n    };\n})(window.FAB);\n","/* jshint ignore:start */\n// jscs:disable\n\n/**!\n * Sortable https://github.com/RubaXa/Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== \"undefined\") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function () {\n\t\"use strict\";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != 'object') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t['pull', 'put'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';\n\t\t}\n\t\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\n\t\t\t// Custom addition by TJ\n\t\t\tdisableXAxis: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === 'mousedown' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = ' ' + this.options.group.name + '',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = this.options.disableXAxis ? 0 : touch.clientX - tapEvt.clientX, // Ternary custom addition by TJ\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, this.options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, this.options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tthis.options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == 'clone') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\t\tdragEl =\n\t\t\t\t\t\tparentEl =\n\t\t\t\t\t\t\tghostEl =\n\t\t\t\t\t\t\t\tnextEl =\n\t\t\t\t\t\t\t\t\tcloneEl =\n\n\t\t\t\t\t\t\t\t\t\tscrollEl =\n\t\t\t\t\t\t\t\t\t\t\tscrollParentEl =\n\n\t\t\t\t\t\t\t\t\t\t\t\ttapEvt =\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouchEvt =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoved =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewIndex =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastEl =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastCSS =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveGroup =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === 'dragover' || type === 'dragenter') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === 'drop' || type === 'dragend') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === '>*' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== 'TEMPLATE') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.3.0-rc2';\n\treturn Sortable;\n});\n/* jshint ignore:end */\n","// Anything in this file will be run before the rest of your custom files\n\nwindow.fabDependenciesLoaded = function() {\n    'use strict';\n\n    return window.FAB.controller !== undefined &&\n        window.$ !== undefined &&\n        window.doT !== undefined &&\n        window.Sortable !== undefined;\n};\n"]}