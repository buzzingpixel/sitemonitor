{"version":3,"sources":["../../../node_modules/fab.controller/src/FAB.controller.js","../../../assetsSource/js/controllers/CodeEditor.js","../../../assetsSource/js/controllers/ScriptSets.js","../../../assetsSource/js/main.js","../../../node_modules/fab.grunt-build/src/js/fab.js","../../../node_modules/fab.assets/src/FAB.assets.js","../../../node_modules/fab.model/src/FAB.model.js","../../../assetsSource/js/components/sortable.js","../../../assetsSource/js/setup.js"],"names":["runFabController","F","undefined","window","jQuery","setTimeout","constructors","constructed","createConstructor","fn","obj","constructor","optObj","i","ControllerModel","thisObj","this","newObj","$","extend","hasOwnProperty","el","$el","get","HTMLElement","model","validateGuid","guid","make","init","Array","prototype","shift","apply","arguments","events","key","callback","on","split","controller","construct","name","constructedObj","Function","bind","push","runCodeEditor","W","fabDependenciesLoaded","self","CodeMirror","assets","load","root","js","css","success","runCodeMirror","fromTextArea","dragDrop","indentUnit","indentWithTabs","lineNumbers","lineWrapping","mode","tabSize","viewportMargin","Infinity","runEditScriptSet","scriptsCollapsed","click .js-add-script","ajax","url","html","$html","find","append","click .js-remove-script","e","currentTarget","$script","closest","val","hide","click .js-scripts-collapse-expand","set","Sortable","create","disableXAxis","draggable","handle","animation","onChange","collapseScripts","expandScripts","$scriptBodies","slideUp","each","text","show","slideDown","runMain","FAB","D","Load","options","head","getElementsByTagName","async","counter","error","check","failure","scriptTag","createElement","onload","onerror","src","appendChild","link","addEventListener","rel","href","document","guids","s4","Math","floor","random","toString","substring","createModelConstructor","attrs","initialValues","properties","propertyTypes","changeEvents","prop","parseInt","parseFloat","String","Object","args","changed","oldVal","forEach","noNameSpace","offChange","indexOf","factory","define","amd","module","exports","Package","_extend","expando","defaults","group","sort","disabled","store","scroll","scrollSensitivity","scrollSpeed","test","nodeName","ghostClass","chosenClass","ignore","filter","setData","dataTransfer","dragEl","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","forceFallback","fallbackClass","fallbackOnBody","_prepareGroup","charAt","nativeDraggable","supportDraggable","_on","_onTapStart","touchDragOverListeners","_onDragOver","_cloneHide","state","cloneEl","_css","rootEl","insertBefore","_closest","selector","ctx","tag","toUpperCase","re","RegExp","join","parentNode","length","className","match","_globalDragOver","evt","dropEffect","preventDefault","event","_off","removeEventListener","_toggleClass","classList","replace","RSPACE","style","defaultView","getComputedStyle","currentStyle","_find","tagName","iterator","list","n","_dispatchEvent","sortable","targetEl","fromEl","startIndex","newIndex","createEvent","onName","substr","initEvent","to","from","item","clone","oldIndex","dispatchEvent","call","_onMove","toEl","dragRect","targetRect","retVal","onMoveFn","onMove","dragged","draggedRect","related","relatedRect","getBoundingClientRect","_disableDraggable","_unsilent","_silent","_ghostIsLast","lastEl","lastElementChild","rect","clientY","top","height","clientX","right","width","_generateId","str","sum","charCodeAt","_index","index","previousElementSibling","_throttle","ms","_this","dst","parentEl","ghostEl","nextEl","scrollEl","scrollParentEl","lastCSS","lastParentCSS","activeGroup","tapEvt","touchEvt","moved","autoScroll","Date","getTime","win","supportCssPointerEvents","cssText","pointerEvents","abs","_autoScroll","vx","vy","sens","speed","x","y","winWidth","innerWidth","winHeight","innerHeight","offsetWidth","scrollWidth","offsetHeight","scrollHeight","left","bottom","clearInterval","pid","setInterval","scrollTo","pageXOffset","pageYOffset","scrollTop","scrollLeft","groups","put","type","touch","touches","target","originalTarget","button","some","criteria","trim","_prepareDragStart","dragStartFn","ownerDocument","nextSibling","_disableDelayedDrag","_triggerDragStart","_onDrop","_dragStartTimer","clearTimeout","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","active","_emulateDragOver","_lastX","_lastY","elementFromPoint","parent","groupName","_onTouchMove","_appendGhost","dx","dy","translate3d","ghostRect","cloneNode","marginTop","marginLeft","body","useFallback","_offUpEvents","pull","_loopId","effectAllowed","revert","groupPut","isOwner","canSort","stopPropagation","contains","children","animated","_animate","after","floating","cssFloat","display","isWide","isLong","halfway","nextElementSibling","moveVector","elTop","offsetTop","tgTop","prevRect","currentRect","removeChild","save","handleEvent","toArray","order","getAttribute","items","id","option","value","destroy","querySelectorAll","removeAttribute","splice","utils","off","is","throttle","toggleClass","version","doT"],"mappings":"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","file":"script.min.js","sourcesContent":["/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n// Set up fab controller\nfunction runFabController(F) {\n    'use strict';\n\n    if (window.jQuery === undefined) {\n        setTimeout(function() {\n            runFabController(F);\n        }, 10);\n        return;\n    }\n\n    var jQuery = window.jQuery;\n\n    // A place to store constructors\n    var constructors = {};\n\n    // A place to store constructed objects\n    var constructed = [];\n\n    /**\n     * Make a controller constructor\n     *\n     * @param {String|Object} fn - Name of constructor or options to return constructor only\n     * @param {Object} obj - Options\n     * @return {constructor}\n     */\n    var createConstructor = function(fn, obj) {\n        // Constructor variable\n        var constructor;\n\n        // Determine type of first argument\n        if (typeof fn === 'object') {\n            obj = fn;\n            fn = null;\n        } else if (typeof fn !== 'string') {\n            obj = {};\n            fn = null;\n        }\n\n        /**\n         * Create a constructor\n         *\n         * @param {Object|boolean|null} optObj\n         */\n        constructor = function(optObj) {\n            // Set a variable for this\n            var thisObj = this;\n\n            // Clone the object\n            var newObj = $.extend(true, {}, obj);\n\n            // Set iterator key\n            var i;\n\n            // Set model var\n            var ControllerModel;\n\n            // Loop through the options and set them\n            for (i in newObj) {\n                if (newObj.hasOwnProperty(i)) {\n                    thisObj[i] = newObj[i];\n                }\n            }\n\n            // Loop through incoming options and set them\n            if (typeof optObj === 'object') {\n                for (i in optObj) {\n                    if (optObj.hasOwnProperty(i)) {\n                        thisObj[i] = optObj[i];\n                    }\n                }\n            }\n\n            // Check if el or $el has been set\n            if (! thisObj.el) {\n                thisObj.$el = $('<div></div>');\n                thisObj.el = thisObj.$el.get(0);\n\n                // If the incoming el is a string, use as selector\n            } else if (typeof thisObj.el === 'string') {\n                thisObj.$el = $(thisObj.el);\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a jQuery object\n            } else if (thisObj.el instanceof jQuery) {\n                thisObj.$el = thisObj.el;\n                thisObj.el = thisObj.$el.get(0);\n\n                // Check if the incoming el is a DOM object\n            } else if (thisObj.el instanceof HTMLElement) {\n                thisObj.$el = $(thisObj.el);\n            }\n\n            // Check if model is set\n            if (typeof thisObj.model === 'object' && typeof F.model !== 'undefined') {\n                if (! F.model.validateGuid(thisObj.model.guid)) {\n                    ControllerModel = F.model.make(thisObj.model);\n                    thisObj.model = new ControllerModel();\n                }\n            } else if (this.model !== undefined) {\n                thisObj.model = null;\n            }\n\n            // Check for init\n            if (typeof thisObj.init === 'function') {\n                // Remove the first argument from the arguments\n                Array.prototype.shift.apply(arguments);\n\n                // Run the init function\n                thisObj.init.apply(thisObj, arguments);\n            }\n\n            // Check if there are events\n            if (typeof thisObj.events === 'object') {\n                // Loop through the events\n                for (i in thisObj.events) {\n                    if (\n                        // Make sure the object has own property\n                    thisObj.events.hasOwnProperty(i) &&\n                    // Make sure the value is a callable function\n                    typeof thisObj.events[i] === 'function'\n                    ) {\n                        // Enclose in a function so we have immutable vars\n                        (function(key, callback) {\n                            if (key[1]) {\n                                thisObj.$el.on(key[0], key[1], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            } else {\n                                thisObj.$el.on(key[0], function() {\n                                    callback.apply(thisObj, arguments);\n                                });\n                            }\n                        })(i.split(' '), thisObj.events[i]);\n                    }\n                }\n            }\n        };\n\n        // If a name has been defined for this constructor, add it\n        if (fn) {\n            constructors[fn] = constructor;\n        }\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Controller API\n     */\n    F.controller = {\n        /**\n         * Make a controller constructor\n         * @return {constructor}\n         */\n        make: function() {\n            return createConstructor.apply(createConstructor, arguments);\n        },\n\n        /**\n         * Construct a new object from a constructor\n         *\n         * @param {String} name\n         */\n        construct: function(name) {\n            // Set a variable for the constructed object\n            var constructedObj;\n\n            // Make sure the constructor exists\n            if (typeof constructors[name] !== 'function') {\n                return null;\n            }\n\n            // Run the constructor\n            constructedObj = new (Function.prototype.bind.apply(\n                    constructors[name], arguments)\n            )();\n\n            // Push the constructor into the array of constructed objects\n            constructed.push(constructedObj);\n\n            // Return the constructed object\n            return constructedObj;\n        }\n    };\n}\n\n// Run fab controller set up\nrunFabController(window.FAB);\n","function runCodeEditor(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runCodeEditor(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('CodeEditor', {\n        init: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Load code mirror if needed\n            if (W.CodeMirror === undefined) {\n                F.assets.load({\n                    root: '/',\n                    js: [\n                        'codemirror/lib/codemirror.js',\n                        'codemirror/mode/shell/shell.js'\n                    ],\n                    css: [\n                        'codemirror/lib/codemirror.css'\n                    ],\n                    success: function() {\n                        self.runCodeMirror();\n                    }\n                });\n\n                return;\n            }\n\n            // If code mirror is already loaded, run it\n            self.runCodeMirror();\n        },\n\n        runCodeMirror: function() {\n            W.CodeMirror.fromTextArea(this.$el.get(0), {\n                dragDrop: false,\n                indentUnit: 4,\n                indentWithTabs: false,\n                lineNumbers: true,\n                lineWrapping: true,\n                mode: 'text/x-sh',\n                tabSize: 4,\n                viewportMargin: Infinity\n            });\n        }\n    });\n}\n\nrunCodeEditor(window.FAB, window);\n","function runEditScriptSet(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runEditScriptSet(F, W);\n        }, 10);\n        return;\n    }\n\n    // Create the controller\n    F.controller.make('EditScriptSet', {\n        model: {\n            scriptsCollapsed: 'bool'\n        },\n\n        events: {\n            'click .js-add-script': function() {\n                // Save a reference to the controller\n                var self = this;\n\n                $.ajax({\n                    url: '/servers/scripts/script-template',\n                    success: function(html) {\n                        var $html = $(html);\n                        self.$el.find('.js-scripts-container').append($html);\n                        F.controller.construct('CodeEditor', {\n                            el: $html.find('.js-code-editor').get(0)\n                        });\n                    }\n                });\n            },\n            'click .js-remove-script': function(e) {\n                var $el = $(e.currentTarget);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-delete').val('true');\n                $script.hide();\n            },\n            'click .js-scripts-collapse-expand': function() {\n                // Save a reference to the controller\n                var self = this;\n\n                // Set model\n                self.model.set(\n                    'scriptsCollapsed',\n                    ! self.model.get('scriptsCollapsed')\n                );\n            }\n        },\n\n        init: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the scripts container element\n            var el = self.$el.find('.js-scripts-container').get(0);\n\n            // Instantiate sorting\n            window.Sortable.create(el, {\n                disableXAxis: true,\n                draggable: '.js-script',\n                handle: '.js-script-sort-handle',\n                animation: 150\n            });\n\n            // Watch for scripts collapsed model changes\n            self.model.onChange('scriptsCollapsed', function(val) {\n                if (val) {\n                    self.collapseScripts();\n                    return;\n                }\n                self.expandScripts();\n            });\n        },\n\n        collapseScripts: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the script bodies\n            var $scriptBodies = self.$el.find('.js-script-body');\n\n            // Collapse scripts\n            $scriptBodies.slideUp(100);\n\n            // Iterate through script bodies and set title\n            $scriptBodies.each(function() {\n                var $el = $(this);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-name-holder').text(\n                    ': ' + $script.find('.js-script-name').val()\n                );\n            });\n\n            // Hide the collapse option\n            self.$el.find('.js-collapse-scripts').hide();\n\n            // Show the expand scripts option\n            self.$el.find('.js-expand-scripts').show();\n        },\n\n        expandScripts: function() {\n            // Save a reference to the controller\n            var self = this;\n\n            // Get the script bodies\n            var $scriptBodies = self.$el.find('.js-script-body');\n\n            // Expand scripts\n            $scriptBodies.slideDown(100);\n\n            // Iterate through script bodies and unset title\n            $scriptBodies.each(function() {\n                var $el = $(this);\n                var $script = $el.closest('.js-script');\n                $script.find('.js-script-name-holder').text('');\n            });\n\n            // Show the collapse option\n            self.$el.find('.js-collapse-scripts').show();\n\n            // Hide the expand scripts option\n            self.$el.find('.js-expand-scripts').hide();\n        }\n    });\n}\n\nrunEditScriptSet(window.FAB, window);\n","// This file is run after everything else\n\nfunction runMain(F, W) {\n    'use strict';\n\n    // Make sure Fabricator has been fully loaded\n    if (! W.fabDependenciesLoaded()) {\n        setTimeout(function() {\n            runMain(F, W);\n        }, 10);\n        return;\n    }\n\n    // Run script sets on page\n    $('.js-edit-script-set').each(function() {\n        F.controller.construct('EditScriptSet', {\n            el: this\n        });\n    });\n\n    // Run edit areas on page\n    $('.js-code-editor').each(function() {\n        F.controller.construct('CodeEditor', {\n            el: this\n        });\n    });\n}\n\nrunMain(window.FAB, window);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F, D) {\n    'use strict';\n\n    /**\n     * Load specified assets\n     *\n     * @param {Object} options\n     *     @param {String} [options.root]\n     *     @param {String|Array} [options.js]\n     *     @param {String|Array} [options.css]\n     *     @param {Boolean} [options.async]\n     *     @param {Function} [options.failure]\n     *     @param {Function} [options.success]\n     */\n    var Load = function(options) {\n        // Set variables\n        var head = D.getElementsByTagName('head')[0];\n        var root = options.root || '/';\n        var js = typeof options.js === 'string' ? [options.js] : options.js;\n        var css = typeof options.css === 'string' ? [options.css] : options.css;\n        var async = options.async === true;\n        var i;\n        var counter = 0;\n        var error = false;\n        var check = function() {\n            if (counter !== 0) {\n                return;\n            }\n\n            if (error && typeof options.failure === 'function') {\n                options.failure();\n            } else if (! error && typeof options.success === 'function') {\n                options.success();\n            }\n        };\n\n        // Add all JS items to the counter\n        for (i in js) {\n            if (js.hasOwnProperty(i)) {\n                counter++;\n            }\n        }\n\n        // Add all CSS items to the counter\n        for (i in css) {\n            if (css.hasOwnProperty(i)) {\n                counter++;\n            }\n        }\n\n        // Load JS scripts\n        for (i in js) {\n            if (js.hasOwnProperty(i)) {\n                var scriptTag = D.createElement('script');\n\n                scriptTag.async = async === true;\n\n                scriptTag.onload = function() {\n                    counter--;\n                    check();\n                };\n\n                scriptTag.onerror = function() {\n                    counter--;\n                    error = true;\n                    check();\n                };\n\n                scriptTag.src = root + js[i];\n\n                head.appendChild(scriptTag);\n            }\n        }\n\n        // Load CSS links\n        for (i in css) {\n            if (css.hasOwnProperty(i)) {\n                var link = D.createElement('link');\n\n                link.addEventListener('load', function() {\n                    counter--;\n                    check();\n                }, false);\n\n                link.addEventListener('error', function() {\n                    counter--;\n                    error = true;\n                    check();\n                }, false);\n\n                link.rel = 'stylesheet';\n                link.href = root + css[i];\n\n                head.appendChild(link);\n            }\n        }\n    };\n\n    F.assets = {\n        /**\n         * Load specified assets\n         *\n         * @param {Object} options\n         *     @param {String} [options.root]\n         *     @param {String|Array} [options.js]\n         *     @param {String|Array} [options.css]\n         *     @param {Boolean} [options.async]\n         *     @param {Function} [options.failure]\n         *     @param {Function} [options.success]\n         */\n        load: function(options) {\n            new Load(options); // jshint ignore: line\n        }\n    };\n})(window.FAB, document);\n","/*----------------------------------------------------------------------------*\\\n    # Copyright 2017, BuzzingPixel, LLC\n\n    # This program is free software: you can redistribute it and/or modify\n    # it under the terms of the Apache License 2.0.\n    # http://www.apache.org/licenses/LICENSE-2.0\n\\*----------------------------------------------------------------------------*/\n\n// Make sure FAB is defined\nwindow.FAB = window.FAB || {};\n\n(function(F) {\n    'use strict';\n\n    // A place to store GUIDs\n    var guids = [];\n\n    // Create GUID\n    var guid = function() {\n        var s4 = function() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        };\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    };\n\n    /**\n     * Make a model constructor\n     *\n     * @param {Object} attrs\n     */\n    var createModelConstructor = function(attrs) {\n        // Set a variable for the constructor\n        var constructor;\n\n        // Make sure attrs is an object\n        if (typeof attrs !== 'object') {\n            attrs = {};\n        }\n\n        // Define the constructor\n        constructor = function(initialValues) {\n            // Set a local variable for this\n            var thisObj = this;\n\n            // Set GUID\n            thisObj.guid = guid();\n\n            // Push the GUID\n            guids.push(thisObj.guid);\n\n            // Set up properties\n            thisObj.properties = {};\n\n            // Set up property types\n            thisObj.propertyTypes = attrs;\n\n            // Set up change events\n            thisObj.changeEvents = {};\n\n            // Loop through property types and set change events objects\n            for (var prop in thisObj.propertyTypes) {\n                if (thisObj.propertyTypes.hasOwnProperty(prop)) {\n                    thisObj.changeEvents[prop] = {};\n                }\n            }\n\n            // Set any initial values\n            for (var i in initialValues) {\n                if (initialValues.hasOwnProperty(i)) {\n                    if (thisObj.propertyTypes[i] !== undefined) {\n                        thisObj.properties[i] = initialValues[i];\n                    }\n                }\n            }\n        };\n\n        // Set prototype methods\n        constructor.prototype = {\n            get: function(name) {\n                var model = this;\n\n                if (model.properties[name]) {\n                    if (model.propertyTypes[name] === 'int') {\n                        return parseInt(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'float') {\n                        return parseFloat(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return String(model.properties[name]);\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return model.properties[name] === true;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        if (model.properties[name].constructor === Array) {\n                            return model.properties[name];\n                        } else {\n                            return [];\n                        }\n                    } else if (model.propertyTypes[name] === 'object') {\n                        if (model.properties[name].constructor === Object) {\n                            return model.properties[name];\n                        } else {\n                            return {};\n                        }\n                    } else {\n                        return null;\n                    }\n                } else {\n                    if (\n                        model.propertyTypes[name] === 'int' ||\n                        model.propertyTypes[name] === 'float'\n                    ) {\n                        return 0;\n                    } else if (model.propertyTypes[name] === 'string') {\n                        return '';\n                    } else if (model.propertyTypes[name] === 'bool') {\n                        return false;\n                    } else if (model.propertyTypes[name] === 'array') {\n                        return [];\n                    } else if (model.propertyTypes[name] === 'object') {\n                        return {};\n                    } else {\n                        return null;\n                    }\n                }\n            },\n            set: function(name, val) {\n                var model = this;\n                var changed = false;\n                var oldVal = model.properties[name];\n                var args;\n\n                if (model.propertyTypes[name] === 'int') {\n                    model.properties[name] = parseInt(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'float') {\n                    model.properties[name] = parseFloat(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'string') {\n                    model.properties[name] = String(val);\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'bool') {\n                    model.properties[name] = val === true || val === 'true' || val === 'yes' || val === 'y';\n                    changed = true;\n                } else if (model.propertyTypes[name] === 'array') {\n                    if (val.constructor === Array) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                } else if (model.propertyTypes[name] === 'object') {\n                    if (val.constructor === Object) {\n                        model.properties[name] = val;\n                        changed = true;\n                    }\n                }\n\n                if (! changed || oldVal === model.properties[name] || model.changeEvents[name] === undefined) {\n                    return;\n                }\n\n                args = [\n                    model.properties[name],\n                    oldVal\n                ];\n\n                for (var i in model.changeEvents[name]) {\n                    model.changeEvents[name][i].forEach(function(callback) {\n                        callback.apply(callback, args);\n                    });\n                }\n            },\n            onChange: function(name, callback) {\n                var model = this;\n                var key = name.split('.');\n\n                if (model.propertyTypes[key[0]] !== undefined) {\n                    if (key[1] === undefined) {\n                        if (model.changeEvents[key[0]].noNameSpace === undefined) {\n                            model.changeEvents[key[0]].noNameSpace = [];\n                        }\n\n                        model.changeEvents[key[0]].noNameSpace.push(callback);\n                    } else {\n                        if (model.changeEvents[key[0]][key[1]] === undefined) {\n                            model.changeEvents[key[0]][key[1]] = [];\n                        }\n\n                        model.changeEvents[key[0]][key[1]].push(callback);\n                    }\n                }\n            },\n            offChange: function(name) {\n                var model = this;\n                var key = name.split('.');\n\n                if (key[1] === undefined) {\n                    model.changeEvents[key[0]] = {};\n                } else {\n                    delete model.changeEvents[key[0]][key[1]];\n                }\n            }\n        };\n\n        // Return the constructor\n        return constructor;\n    };\n\n    /**\n     * Model API\n     */\n    F.model = {\n        /**\n         * Make a model constructor\n         */\n        make: function() {\n            return createModelConstructor.apply(\n                createModelConstructor,\n                arguments\n            );\n        },\n\n        /**\n         * Validate GUID\n         *\n         * @param {String} guid\n         */\n        validateGuid: function(guid) {\n            return guids.indexOf(guid) > -1;\n        }\n    };\n})(window.FAB);\n","/* jshint ignore:start */\n// jscs:disable\n\n/**!\n * Sortable https://github.com/RubaXa/Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== \"undefined\") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function () {\n\t\"use strict\";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != 'object') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t['pull', 'put'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = ' ' + group.name + (group.put.join ? ' ' + group.put.join(' ') : '') + ' ';\n\t\t}\n\t\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\n\t\t\t// Custom addition by TJ\n\t\t\tdisableXAxis: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === 'mousedown' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = ' ' + this.options.group.name + '',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = this.options.disableXAxis ? 0 : touch.clientX - tapEvt.clientX, // Ternary custom addition by TJ\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, this.options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, this.options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tthis.options.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == 'clone') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === 'touch') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\t\tdragEl =\n\t\t\t\t\t\tparentEl =\n\t\t\t\t\t\t\tghostEl =\n\t\t\t\t\t\t\t\tnextEl =\n\t\t\t\t\t\t\t\t\tcloneEl =\n\n\t\t\t\t\t\t\t\t\t\tscrollEl =\n\t\t\t\t\t\t\t\t\t\t\tscrollParentEl =\n\n\t\t\t\t\t\t\t\t\t\t\t\ttapEvt =\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouchEvt =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoved =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewIndex =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastEl =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastCSS =\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveGroup =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === 'dragover' || type === 'dragenter') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === 'drop' || type === 'dragend') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === '>*' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent('Event'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent('Event');\n\t\tevt.initEvent('move', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== 'TEMPLATE') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.3.0-rc2';\n\treturn Sortable;\n});\n/* jshint ignore:end */\n","// Anything in this file will be run before the rest of your custom files\n\nwindow.fabDependenciesLoaded = function() {\n    'use strict';\n\n    return window.FAB.controller !== undefined &&\n        window.$ !== undefined &&\n        window.doT !== undefined &&\n        window.Sortable !== undefined;\n};\n"]}